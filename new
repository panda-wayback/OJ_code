#!/usr/bin/env bash
# 新建题目目录。用法: ./new <平台> <题号>  如  ./new luogu P5250  或  ./new cf 7 A
set -e
ROOT="$(cd "$(dirname "$0")" && pwd)"
TEMPLATE="$ROOT/base_answer"
if [ $# -lt 2 ]; then
  echo "用法: $0 <平台> <题号>  例: $0 luogu P5250  或  $0 cf 7A"
  exit 1
fi
PLATFORM="$1"
if [ "$PLATFORM" = cf ] && [ $# -ge 3 ]; then
  ID="$2$3"
else
  ID="$2"
fi
DIR="$ROOT/code/$PLATFORM/$ID"
mkdir -p "$DIR"
cp "$TEMPLATE/main.cc" "$DIR/main.cc"
touch "$DIR/slyar.in"
echo "已创建 code/$PLATFORM/$ID，运行: make run DIR=code/$PLATFORM/$ID"
